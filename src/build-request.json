{
  "kind": "build_request",
  "title": "Replace enemy primitives with realistic textured 3D models (UFO/Cow/Crocodile/Penguin) without changing the existing 3D game view",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Replace the current primitive geometry rendering for enemy entities (ufo, cow, crocodile, penguin) with realistic textured 3D models loaded from local static assets, while keeping the existing Three.js scene structure/camera/view intact.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4",
          "msg-7"
        ],
        "quotes": [
          "Cada entidad —ovni, vaca, cocodrilo, pingüino— se vea como figura real, no como triángulo ni esfera.",
          "si aslo ya"
        ]
      },
      "acceptanceCriteria": [
        "When enemies spawn, each of the four types renders as a 3D model (not the current sphere/box/cone/cylinder primitives).",
        "Enemy rendering changes are isolated to enemy visuals (e.g., EnemyEntity3D / model loading); the overall PlayPage + MotorSnakeGameRoot scene/camera setup remains unchanged.",
        "All required assets are stored as static files in the frontend (e.g., under frontend/public) and loaded at runtime (no backend involvement)."
      ]
    },
    {
      "id": "REQ-2",
      "text": "Implement per-enemy visual styling and lightweight animation behaviors for the loaded models: UFO appears metallic gray with blue neon lights that blink; Cow appears realistic with black eyes and a subtle tail-swish idle; Crocodile appears scaly green with open mouth and white teeth; Penguin appears black/white with orange beak and a slow idle walk-in-place when not moving.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4",
          "msg-7"
        ],
        "quotes": [
          "Ovni: modelo .glb gris metálico, luces neón azules parpadeando.\n\nVaca: modelo 3D con textura realista, ojos negros, animación ligera de cola.\n\nCocodrilo: modelo verde escamoso, boca abierta, dientes blancos.\n\nPingüino: negro y blanco, pico naranja, camina despacito si está quieto.",
          "si aslo ya"
        ]
      },
      "acceptanceCriteria": [
        "UFO model uses a metallic-looking material response (metalness/roughness) and a visible blue emissive element that periodically blinks/pulses.",
        "Cow model includes a subtle, continuous tail animation (via GLB animation clip or bone/mesh transform) and retains existing hover motion if present.",
        "Crocodile model is clearly identifiable as a crocodile with green scaly look, open mouth, and visible white teeth.",
        "Penguin model is clearly identifiable (black/white body, orange beak) and shows a slow idle walk cycle when its in-game velocity is near zero.",
        "All animations run smoothly and do not introduce noticeable frame stutter on typical settings."
      ]
    },
    {
      "id": "REQ-3",
      "text": "Ensure upgraded enemy models have correct scale, depth, and presence in the existing scene: they must not appear flat; they should have slight rotation/idle motion that reads in perspective, and their size should be consistent relative to the player snake and world.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4",
          "msg-7"
        ],
        "quotes": [
          "Que aparezcan con escala adecuada, no gigantes ni chiquitos.\nY que no se vean planos: profundidad, rotación ligera, perspectiva real.",
          "si aslo ya"
        ]
      },
      "acceptanceCriteria": [
        "Each enemy type appears at a reasonable, consistent size compared to the snake and does not clip excessively into the world sphere.",
        "Enemy models have visible 3D depth and a subtle rotation/idle motion that is perceptible during gameplay.",
        "No enemy model renders as an unlit flat-looking object (e.g., missing normals/lighting response)."
      ]
    },
    {
      "id": "REQ-4",
      "text": "Add/adjust basic lighting and shadows so that the new enemy models cast and receive shadows appropriately (where supported by the existing renderer setup), without degrading performance or altering the overall look of the existing scene.",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-4",
          "msg-7"
        ],
        "quotes": [
          "Todo con sombras, iluminación básica, sin lag.",
          "si aslo ya"
        ]
      },
      "acceptanceCriteria": [
        "Enemy models are lit with scene lighting (not full-bright/unlit), and the scene includes shadow support that visibly improves model grounding (cast/receive where appropriate).",
        "Shadows/lighting changes do not significantly reduce performance (no obvious lag spikes attributable to model/shadow settings).",
        "If shadows must be limited for performance, the implementation uses reasonable quality safeguards (e.g., reduced shadow map size or selective shadow casting) while keeping a clear visual improvement."
      ]
    }
  ],
  "constraints": [
    "Do not modify the overall 3D view/camera composition in MotorSnakeGameRoot; limit changes to enemy entity rendering and any minimal lighting/shadow configuration needed for the new models.",
    "Do not restructure the project into additional services or non-standard packaging; keep the standard React + TypeScript project layout.",
    "Do not edit files under frontend/src/components/ui (read-only).",
    "Do not implement a single-file HTML+JS build; keep assets as normal static files in the project (no base64 bundling requirement)."
  ],
  "nonGoals": [
    "Do not change gameplay mechanics, scoring rules, spawning rules, or collision logic as part of this request.",
    "Do not add multiplayer, networking, or backend persistence related to these visual upgrades.",
    "Do not create or modify unrelated UI screens/pages beyond what is necessary for enemy model rendering."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}